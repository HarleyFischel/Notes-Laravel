(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(1),i=n.n(r),c=(n(13),n(2)),l=n(3),s=n(5),u=n(4),d=n(6),m=(n(14),document.location.href.split("/")),h="",f={"X-CSRF-TOKEN":h,"Content-Type":"application/json"},E=Number.isInteger(parseInt(m[m.length-1]))?m[m.length-1]:"",p=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,items:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;e=this,fetch("http://localhost:8000/api/").then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,items:Array.from(Object.keys(t),function(e){return t[e]})})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,a=e.items;return t?o.a.createElement("div",null,"Error: ",t.message):n?o.a.createElement("ul",{className:"notes"},a.map(function(e){return o.a.createElement("li",{key:e.id,className:"link",onClick:function(t){return b(e.id)}},e.note.substr(0,120),e.note.length>120?"...":"")})):o.a.createElement("div",null,"Loading...")}}]),t}(o.a.Component),v=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,id:e.id,item:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g(this)}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,a=e.item;return t?o.a.createElement("div",null,"Error: ",t.message):n?o.a.createElement("pre",null,a.note):o.a.createElement("div",null,"Loading...")}}]),t}(o.a.Component),k=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("textarea",{id:"note"})}}]),t}(o.a.Component),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={error:null,isLoaded:!1,id:e.id,item:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g(this)}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,a=e.item;return t?o.a.createElement("div",null,"Error: ",t.message):n?o.a.createElement("textarea",{id:"note",defaultValue:a.note}):o.a.createElement("div",null,"Loading...")}}]),t}(o.a.Component);function j(){""!==E&&window.history.replaceState("","Notes - Index","/"),i.a.render(o.a.createElement("li",{className:"link",onClick:O},"Add New"),document.getElementById("nav")),i.a.render(o.a.createElement(p,null),document.getElementById("notes"))}function b(e){E=e,window.history.replaceState("","Notes - Index","/"+e),i.a.render(o.a.createElement("span",null,o.a.createElement("li",{className:"link",onClick:j},"Back"),o.a.createElement("li",{className:"link",onClick:function(t){return function(e){i.a.render(o.a.createElement("span",null,o.a.createElement("li",{className:"link",onClick:function(t){return b(e)}},"Cancel"),o.a.createElement("li",{className:"link",onClick:function(t){return function(e){fetch("http://localhost:8000/api/"+e,{method:"DELETE",headers:f}).then(function(e){return e.json()}).then(function(e){j()})}(e)}},"Delete"),o.a.createElement("li",{className:"link",onClick:function(t){return function(e){fetch("http://localhost:8000/api/",{method:"POST",headers:f,body:JSON.stringify({id:e,note:document.getElementById("note").value})}).then(function(e){return e.json()}).then(function(t){b(e)})}(e)}},"Save")),document.getElementById("nav")),i.a.render(o.a.createElement(y,{id:e}),document.getElementById("notes"))}(e)}},"Edit")),document.getElementById("nav")),i.a.render(o.a.createElement(v,{id:e}),document.getElementById("notes"))}function O(){i.a.render(o.a.createElement("span",null,o.a.createElement("li",{className:"link",onClick:j},"Cancel"),o.a.createElement("li",{className:"link",onClick:N},"Save")),document.getElementById("nav")),i.a.render(o.a.createElement(k,null),document.getElementById("notes"))}function g(e){fetch("http://localhost:8000/api/"+e.state.id).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,item:t})},function(t){e.setState({isLoaded:!0,error:t})})}function N(){fetch("http://localhost:8000/api/",{method:"PUT",headers:f,body:JSON.stringify({note:document.getElementById("note").value})}).then(function(e){return e.json()}).then(function(e){j()})}var C=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"header"},o.a.createElement("h2",{className:"title"},"My Notes"),o.a.createElement("ul",{id:"nav",className:"nav"})),o.a.createElement("div",{className:"container"},o.a.createElement("div",{id:"notes"})))};document.addEventListener("DOMContentLoaded",function(){fetch("http://localhost:8000/api/token/").then(function(e){return e.json()}).then(function(e){h=e.token,f={"X-CSRF-TOKEN":h,"Content-Type":"application/json"}}),""!==E?b(E):j()});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.8c363f1a.chunk.js.map